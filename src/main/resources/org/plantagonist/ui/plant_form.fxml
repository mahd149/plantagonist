<?xml version="1.0" encoding="UTF-8"?>
<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.image.*?>
<?import javafx.scene.layout.*?>

<BorderPane xmlns:fx="http://javafx.com/fxml"
            fx:controller="org.plantagonist.ui.PlantFormController"
            prefWidth="540" styleClass="card pad-16">

    <!-- Header -->
    <top>
        <VBox spacing="6" BorderPane.alignment="CENTER_LEFT">
            <Label fx:id="title" text="Add Plant" styleClass="card-header"/>
            <Label text="Keep details concise. You can edit anytime." styleClass="subtle"/>
        </VBox>
    </top>

    <!-- Main form -->
    <center>
        <GridPane hgap="12" vgap="12">
            <columnConstraints>
                <ColumnConstraints percentWidth="38"/>
                <ColumnConstraints percentWidth="62"/>
            </columnConstraints>

            <!-- Name -->
            <Label text="Name" GridPane.rowIndex="0"/>
            <VBox spacing="6" GridPane.rowIndex="0" GridPane.columnIndex="1">
                <TextField fx:id="nameField" promptText="e.g., Monstera Deliciosa"/>
                <Label text="Required" styleClass="subtle"/>
            </VBox>

            <!-- Species -->
            <Label text="Species" GridPane.rowIndex="1"/>
            <VBox spacing="6" GridPane.rowIndex="1" GridPane.columnIndex="1">
                <TextField fx:id="speciesField" promptText="e.g., Ficus elastica"/>
                <Label text="Optional • Helps with care suggestions" styleClass="subtle"/>
            </VBox>

            <!-- Water cadence -->
            <Label text="Water every (days)" GridPane.rowIndex="2"/>
            <VBox spacing="6" GridPane.rowIndex="2" GridPane.columnIndex="1">
                <TextField fx:id="waterEveryField" promptText="e.g., 7"/>
                <Label text="Positive integer • Leave blank if unsure" styleClass="subtle"/>
            </VBox>

            <!-- Sunlight -->
            <Label text="Sunlight (hrs/day)" GridPane.rowIndex="3"/>
            <VBox spacing="6" GridPane.rowIndex="3" GridPane.columnIndex="1">
                <TextField fx:id="sunlightField" promptText="e.g., 4.5"/>
                <Label text="Non‑negative number • Approximate is fine" styleClass="subtle"/>
            </VBox>

            <!-- Last watered -->
            <Label text="Last watered" GridPane.rowIndex="4"/>
            <VBox spacing="6" GridPane.rowIndex="4" GridPane.columnIndex="1">
                <DatePicker fx:id="lastWateredPicker"/>
                <Label text="Used to compute next watering date" styleClass="subtle"/>
            </VBox>

            <!-- Photo -->
            <Label text="Photo" GridPane.rowIndex="5"/>
            <VBox spacing="8" GridPane.rowIndex="5" GridPane.columnIndex="1">
                <HBox spacing="8">
                    <TextField fx:id="photoField" promptText="Path to image (drag &amp; drop here)" HBox.hgrow="ALWAYS"/>
                    <Button text="Browse…" onAction="#browsePhoto" styleClass="nav-btn"/>
                </HBox>
                <HBox spacing="12">
                    <ImageView fx:id="photoPreview" fitWidth="140" fitHeight="100" preserveRatio="true"
                               smooth="true" />
                    <VBox spacing="6">
                        <Label text="Tip: Use a clear, front‑facing photo" styleClass="subtle"/>
                        <Label text="Supported: PNG, JPG, GIF, WEBP" styleClass="subtle"/>
                    </VBox>
                </HBox>
            </VBox>

            <!-- Error text -->
            <Label fx:id="errorLabel" styleClass="subtle"
                   GridPane.rowIndex="6" GridPane.columnSpan="2"/>
        </GridPane>
    </center>

    <!-- Footer actions -->
    <bottom>
        <HBox spacing="8" alignment="CENTER_RIGHT" styleClass="pad-16">
            <Pane HBox.hgrow="ALWAYS"/>
            <Button text="Cancel" onAction="#cancel" styleClass="nav-btn"/>
            <Button text="Save"   onAction="#save"   styleClass="accent-btn pill"/>
        </HBox>
    </bottom>
</BorderPane>
